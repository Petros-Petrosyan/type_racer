(this.webpackJsonptype_racer=this.webpackJsonptype_racer||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(30),o=n.n(i),c=n(13),u=n(19),s=n(66),l=n(7),m=n.n(l),d={game:{gameStatus:0,finishGame:!1,time:60},textInfo:{text:"Click the button to get the text",loading:!1,exist:!0,currentIndex:0,writtenLetter:null,errors:[]}},p=function(e){return m()(e,{game:{$merge:{gameStatus:1,finishGame:!1}},textInfo:{$merge:{currentIndex:0,writtenLetter:null,errors:[]}}})},f=function(e){return m()(e,{game:{$merge:{gameStatus:0,finishGame:!0}}})},_=function(e,t){var n=t.time;return m()(e,{game:{$merge:{finishGame:!1,time:n}}})},h=function(e,t){var n=t.letter;return m()(e,{textInfo:{$merge:{writtenLetter:n}},game:{$merge:{finishGame:!1}}})},y=function(e,t){var n=t.index;return m()(e,{textInfo:{$merge:{currentIndex:n}},game:{$merge:{finishGame:!1}}})},g=function(e,t){var n=t.error,r=Object(s.a)(e.textInfo.errors);return r.includes(n)||r.push(n),m()(e,{textInfo:{$merge:{errors:r}},game:{$merge:{finishGame:!1}}})},v=function(e){return m()(e,{textInfo:{$merge:{loading:!0,exist:!1}},game:{$merge:{finishGame:!1}}})},E=function(e,t){var n=t.text;return m()(e,{textInfo:{$merge:{text:n,loading:!1,exist:!0}}})},x=function(e){return m()(e,{textInfo:{$merge:{loading:!1,exist:!1}}})},b={history:{historyList:null,loading:!1,exist:!1},historyCreate:{loading:!1}},T=function(e){return m()(e,{history:{$merge:{loading:!0,exist:!1}}})},I=function(e,t){var n=t.history;return m()(e,{history:{$merge:{historyList:n,loading:!1,exist:!0}}})},O=function(e){return m()(e,{history:{$merge:{loading:!1,exist:!1}}})},R=function(e){return m()(e,{historyCreate:{$merge:{loading:!0}}})},C=function(e){return m()(e,{historyCreate:{$merge:{loading:!1}}})},S=function(e){return m()(e,{historyCreate:{$merge:{loading:!1}}})},j=n(67),k=n(5),G=n.n(k),L=n(8),w=n(40),H=n.n(w),N=n(27),A=function(){var e=Object(N.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("/",{params:{type:"all-meat",sentences:t}});case 2:return n=e.sent,e.abrupt("return",n.data[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(N.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.post("history.json",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(N.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.get("history.json");case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=H.a.create({baseURL:"https://baconipsum.com/api"}),Y=H.a.create({baseURL:"https://typeracer-62bf9.firebaseio.com/"}),M=function(e){return{type:"GET_TEXT_SUCCESS",payload:{text:e}}},W=G.a.mark(X),U=G.a.mark(K);function X(e){var t,n;return G.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload.sentences,r.next=3,Object(L.b)({type:"GET_TEXT_START"});case 3:return r.prev=3,r.next=6,A(t);case 6:return n=r.sent,r.next=9,Object(L.b)(M(n));case 9:r.next=15;break;case 11:r.prev=11,r.t0=r.catch(3),console.log("Something Wrong"),Object(L.b)({type:"GET_TEXT_FAIL"});case 15:case"end":return r.stop()}}),W,null,[[3,11]])}function K(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([Object(L.c)("GET_TEXT_INIT",X)]);case 2:case"end":return e.stop()}}),U)}var P=function(e){return{type:"GET_HISTORY_SUCCESS",payload:{history:e}}},D=G.a.mark(Z),J=G.a.mark(Q),V=G.a.mark(q);function Z(){var e;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(L.b)({type:"GET_HISTORY_START"});case 2:return t.prev=2,t.next=5,F();case 5:if(e=t.sent){t.next=8;break}throw new Error("History Null");case 8:return t.next=10,Object(L.b)(P(e));case 10:t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(2),console.log("Something Wrong"),t.next=17,Object(L.b)({type:"GET_HISTORY_FAIL"});case 17:case"end":return t.stop()}}),D,null,[[2,12]])}function Q(e){var t;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload.history,n.next=3,Object(L.b)({type:"CREATE_HISTORY_START"});case 3:return n.prev=3,n.next=6,B(t);case 6:return n.next=8,Object(L.b)({type:"CREATE_HISTORY_SUCCESS"});case 8:n.next=15;break;case 10:return n.prev=10,n.t0=n.catch(3),console.log("Something Wrong"),n.next=15,Object(L.b)({type:"CREATE_HISTORY_FAIL"});case 15:case"end":return n.stop()}}),J,null,[[3,10]])}function q(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([Object(L.c)("GET_HISTORY_INIT",Z),Object(L.c)("CREATE_HISTORY_INIT",Q)]);case 2:case"end":return e.stop()}}),V)}var z=G.a.mark(ee);function ee(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([K(),q()]);case 2:case"end":return e.stop()}}),z)}var te=Object(j.a)(),ne=Object(u.c)({gameReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"START_GAME":return p(e);case"FINISH_GAME":return f(e);case"WRITE_LETTER":return h(e,r);case"CHANGE_CURRENT_INDEX":return y(e,r);case"COLLECT_ERRORS":return g(e,r);case"CHANGE_TIME":return _(e,r);case"GET_TEXT_START":return v(e);case"GET_TEXT_SUCCESS":return E(e,r);case"GET_TEXT_FAIL":return x(e);default:return e}},historyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"GET_HISTORY_START":return T(e);case"GET_HISTORY_SUCCESS":return I(e,r);case"GET_HISTORY_FAIL":return O(e);case"CREATE_HISTORY_START":return R(e);case"CREATE_HISTORY_SUCCESS":return C(e);case"CREATE_HISTORY_FAIL":return S(e);default:return e}}}),re=Object(u.e)(ne,Object(u.a)(te));te.run(ee);var ae=n(22),ie=n(6),oe=function(){return a.a.createElement(ae.a,null,a.a.createElement(ie.c,null,a.a.createElement(ie.a,{exact:!0,path:"/",component:We}),a.a.createElement(ie.a,{exact:!0,path:"/history",component:st})))},ce=n(15),ue=n(16),se=n(18),le=n(17),me=n(24),de=n.n(me),pe=n(43),fe=n.n(pe),_e=n(34),he=n(35),ye=n.n(he),ge=n(23),ve=n.n(ge),Ee=function(e){var t=Object(r.useState)([ye.a.keyboardButton]),n=Object(_e.a)(t,2),i=n[0],o=n[1],c=e.id,u=e.value,s=e.style,l=e.src,d=e.currentIndex,p=e.text,f=e.onChangeCurrentIndex,_=e.onWriteLetter,h=e.onFinishGame,y=e.onCollectErrors;Object(r.useEffect)((function(){return E(),function(){return x()}}));var g=function(e){if(c===e.keyCode){var t=m()(i,{$splice:[[1,0,ye.a.isSubmit]]});o(t)}},v=function(e){var t=e.key,n=e.keyCode;if(c===n){_(t);var r=m()(i,{$splice:[[i.length-1,1]]});o(r),d===p.length-1?h():(p[d]===t&&f(d+1),p[d]!==t&&"Shift"!==t&&" "!==p[d]&&y(d))}},E=function(){document.addEventListener("keydown",g),document.addEventListener("keyup",v)},x=function(){document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)};return a.a.createElement("span",{id:c,style:s,className:ve()(i)},l?a.a.createElement("img",{src:l,className:ye.a.pt,alt:"arrow left"}):u)},xe=function(e){var t=e.keyboardButtons,n=e.currentIndex,r=e.text,i=e.onChangeCurrentIndex,o=e.onWriteLetter,c=e.onFinishGame,u=e.onCollectErrors,s=Object.keys(t).map((function(e){var s=t[e].map((function(e){return a.a.createElement(Ee,Object.assign({key:e.id,currentIndex:n,text:r,onChangeCurrentIndex:i,onWriteLetter:o,onFinishGame:c,onCollectErrors:u},e))}));return a.a.createElement("div",{key:e,className:fe.a.keyboard__section},s)}));return a.a.createElement("section",{className:fe.a.keyboard},s)},be=n(57),Te=n.n(be),Ie=function(e){var t=e.time,n=e.status,r=e.text,i=e.currentIndex,o=e.errors,c=e.gameFinish,u=e.onCreateHistory,s=o.length,l=i/r.length*100;l=Math.ceil(l),i===r.length-1&&(l=100);var m=0;(0!==i&&60!==t&&(m=Math.round(i/5/((60-t)/60))),0===n&&c)&&u({speed:m,errorCount:s,completionPercent:l});return a.a.createElement("div",null,a.a.createElement("div",{className:Te.a.result},a.a.createElement("span",null,"Speed: ",a.a.createElement("strong",null,m," WPM")),a.a.createElement("span",null,"Completion percent: ",a.a.createElement("strong",null,l," %")),a.a.createElement("span",null,"Errors: ",a.a.createElement("strong",null,s))))},Oe=n(20),Re=n(36),Ce=n.n(Re),Se=function(e){var t,n=e.status,i=e.initialTime,o=e.onFinish,c=e.onChange,u=Object(r.useState)(i),s=Object(_e.a)(u,2),l=s[0],m=s[1];Object(r.useEffect)((function(){1===n&&d()}),[]),Object(r.useEffect)((function(){0===l?o():(d(l),c(l))}),[l]),Object(r.useEffect)((function(){1===n&&d(i)}),[n]);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;e!==l&&m(e);var t=function(){setTimeout((function(){1===n&&m(e-1)}),1e3)};t()};return a.a.createElement("div",{className:ve()(Ce.a.timer,(t={},Object(Oe.a)(t,Ce.a.orangeBg,l<=20),Object(Oe.a)(t,Ce.a.redBg,0===l),t))},l)},je=n(58),ke=n.n(je),Ge=function(){return a.a.createElement("section",{className:ke.a.showText},a.a.createElement("h2",null,"Start Touch Typing"),a.a.createElement("p",null,"This worth-learning skill will make your work much more productive. Moreover, it's an interactive and engaging game that can teach you how to type."))},Le=n(59),we=n.n(Le),He=n(28),Ne=n.n(He),Ae=function(e){var t,n=e.letter,r=e.currentLetter,i=e.isError;return a.a.createElement("span",{className:ve()(Ne.a.letter,(t={},Object(Oe.a)(t,Ne.a.space," "===n),Object(Oe.a)(t,Ne.a.current,r),Object(Oe.a)(t,Ne.a.error,i),t))},n)},Be=function(e){var t=e.currentIndex,n=e.text,r=e.errors,i=n.split("").map((function(e,n){var i=t===n;return a.a.createElement(Ae,{key:e+n,letter:e,currentLetter:i,isError:r.includes(n)})}));return a.a.createElement("div",{className:we.a.center},i)},Fe=n(44),$e=n.n(Fe),Ye=function(e){var t=e.historyList.map((function(e,t){var n=e.completionPercent,r=e.errorCount,i=e.speed;return a.a.createElement("div",{key:t,className:$e.a.historySection__history},a.a.createElement("h3",null,"Game: ",t+1),a.a.createElement("p",null,"Speed: ",i," WPM"),a.a.createElement("p",null,"Completion percent: ",n," %"),a.a.createElement("p",null,"Errors: ",r))}));return a.a.createElement("section",{className:$e.a.historySection},t)},Me=function(e){Object(se.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ce.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){var e=this.props,t=e.startGame,n=e.getText,r=e.status,i=null;0===r&&(i=a.a.createElement("div",{className:de.a.main__startBtn},a.a.createElement("span",{onClick:function(){t(),n(1)}},"Click on me to start typing")));var o=a.a.createElement("div",{className:de.a.disabled},a.a.createElement("span",null,"Click on me to see game history"));return 0===r&&(o=a.a.createElement("div",{className:de.a.main__history},a.a.createElement(ae.b,{to:"/history"},"Click on me to see game history"))),a.a.createElement("main",{className:de.a.main},a.a.createElement("h1",{className:de.a.main__title},"Type Racer"),o,a.a.createElement(Qe,null),a.a.createElement(rt,null),i,a.a.createElement(De,null),a.a.createElement(Ge,null))}}]),n}(a.a.Component),We=Object(c.b)((function(e){return{status:e.gameReducer.game.gameStatus}}),(function(e){return{startGame:function(){return e({type:"START_GAME"})},getText:function(t){return e(function(e){return{type:"GET_TEXT_INIT",payload:{sentences:e}}}(t))}}}))(Me),Ue=n(60),Xe=n.n(Ue),Ke={section1:[{id:192,value:"`"},{id:49,value:"1"},{id:50,value:"2"},{id:51,value:"3"},{id:52,value:"4"},{id:53,value:"5"},{id:54,value:"6"},{id:55,value:"7"},{id:56,value:"8"},{id:57,value:"9"},{id:48,value:"0"},{id:189,value:"-"},{id:187,value:"="},{id:8,src:"https://img.icons8.com/metro/26/000000/arrow-pointing-left.png",style:{paddingLeft:"20px",paddingRight:"20px"}}],section2:[{id:9,value:"tab",style:{paddingLeft:"20px",paddingRight:"20px"}},{id:81,value:"Q"},{id:87,value:"W"},{id:69,value:"E"},{id:82,value:"R"},{id:84,value:"T"},{id:89,value:"Y"},{id:85,value:"U"},{id:73,value:"I"},{id:79,value:"O"},{id:80,value:"P"},{id:219,value:"["},{id:221,value:"]"},{id:220,value:"\\"}],section3:[{id:20,value:"caps",style:{paddingLeft:"30px",paddingRight:"30px"}},{id:65,value:"A"},{id:83,value:"S"},{id:68,value:"D"},{id:70,value:"F"},{id:71,value:"G"},{id:72,value:"H"},{id:74,value:"J"},{id:75,value:"K"},{id:76,value:"L"},{id:186,value:";"},{id:222,value:"'"},{id:13,value:"enter",style:{paddingLeft:"30px",paddingRight:"30px"}}],section4:[{id:16,value:"shift",style:{paddingLeft:"40px",paddingRight:"40px"}},{id:90,value:"Z"},{id:88,value:"X"},{id:67,value:"C"},{id:86,value:"V"},{id:66,value:"B"},{id:78,value:"N"},{id:77,value:"M"},{id:188,value:","},{id:190,value:"."},{id:191,value:"/"},{id:1666,value:"shift",style:{paddingLeft:"40px",paddingRight:"40px"}}],section5:[{id:32,value:"",style:{paddingLeft:"200px",paddingRight:"200px",margin:"auto"}}]},Pe=function(e){Object(se.a)(n,e);var t=Object(le.a)(n);function n(){var e;Object(ce.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).finishGame=function(){(0,e.props.onFinishGame)()},e}return Object(ue.a)(n,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.currentIndex,r=e.text,i=e.onWriteLetter,o=e.onChangeCurrentIndex,c=e.onCollectErrors,u=a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement("img",{src:Xe.a,alt:"Keyboard"}));return 1===t&&(u=a.a.createElement(xe,{keyboardButtons:Ke,currentIndex:n,text:r,onChangeCurrentIndex:o,onWriteLetter:i,onFinishGame:this.finishGame,onCollectErrors:c})),u}}]),n}(a.a.Component),De=Object(c.b)((function(e){return{status:e.gameReducer.game.gameStatus,currentIndex:e.gameReducer.textInfo.currentIndex,text:e.gameReducer.textInfo.text}}),(function(e){return{onWriteLetter:function(t){return e(function(e){return{type:"WRITE_LETTER",payload:{letter:e}}}(t))},onChangeCurrentIndex:function(t){return e(function(e){return{type:"CHANGE_CURRENT_INDEX",payload:{index:e}}}(t))},onFinishGame:function(){return e({type:"FINISH_GAME"})},onCollectErrors:function(t){return e(function(e){return{type:"COLLECT_ERRORS",payload:{error:e}}}(t))}}}))(Pe),Je=n(61),Ve=n.n(Je),Ze=function(e){Object(se.a)(n,e);var t=Object(le.a)(n);function n(){var e;Object(ce.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).createHistory=function(t){(0,e.props.onCreateHistory)(t)},e}return Object(ue.a)(n,[{key:"render",value:function(){var e=this.props,t=e.time,n=e.status,r=e.gameFinish,i=e.text,o=e.currentIndex,c=e.errors,u=e.finishGame,s=e.onChangeTime;return a.a.createElement("section",{className:Ve.a.resultSection},a.a.createElement(Ie,{time:t,gameFinish:r,status:n,text:i,currentIndex:o,errors:c,onCreateHistory:this.createHistory}),a.a.createElement(Se,{onFinish:u,status:n,initialTime:60,onChange:s}))}}]),n}(a.a.Component),Qe=Object(c.b)((function(e){return{status:e.gameReducer.game.gameStatus,gameFinish:e.gameReducer.game.finishGame,time:e.gameReducer.game.time,text:e.gameReducer.textInfo.text,currentIndex:e.gameReducer.textInfo.currentIndex,errors:e.gameReducer.textInfo.errors}}),(function(e){return{finishGame:function(){return e({type:"FINISH_GAME"})},onCreateHistory:function(t){return e(function(e){return{type:"CREATE_HISTORY_INIT",payload:{history:e}}}(t))},onChangeTime:function(t){return e(function(e){return{type:"CHANGE_TIME",payload:{time:e}}}(t))}}}))(Ze),qe=n(62),ze=n.n(qe),et=n(63),tt=n.n(et),nt=function(e){Object(se.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ce.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){var e=this.props,t=e.textInfo,n=t.loading,r=t.exist,i=t.text,o=e.currentIndex,c=e.errors,u=null;return n&&(u=a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(tt.a,null))),r&&(u=a.a.createElement(Be,{currentIndex:o,text:i,errors:c})),a.a.createElement("div",{className:ze.a.textContainer},u)}}]),n}(a.a.Component),rt=Object(c.b)((function(e){return{textInfo:e.gameReducer.textInfo,currentIndex:e.gameReducer.textInfo.currentIndex,errors:e.gameReducer.textInfo.errors}}),null)(nt),at=n(29),it=n.n(at),ot=n(65),ct=n.n(ot),ut=function(e){Object(se.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ce.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getHistory)()}},{key:"render",value:function(){var e,t=this.props.history,n=t.historyList,r=t.loading;if(t.exist){var i=Object.values(n);e=a.a.createElement(Ye,{historyList:i})}else e=a.a.createElement("div",{className:it.a.noHistory},"There is no history");return r&&(e=a.a.createElement("div",{style:{textAlign:"center"}},a.a.createElement(ct.a,null))),a.a.createElement("main",{className:it.a.history},a.a.createElement("h1",{className:it.a.history__title},"History"),a.a.createElement("div",{className:it.a.history__game},a.a.createElement(ae.b,{to:"/"},"Click on me to return the game")),e)}}]),n}(a.a.Component),st=Object(c.b)((function(e){return{history:e.historyReducer.history}}),(function(e){return{getHistory:function(){return e({type:"GET_HISTORY_INIT"})}}}))(ut);n(100);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,{store:re},a.a.createElement(oe,null))),document.getElementById("root"))},24:function(e,t,n){e.exports={main:"TypeRacer_main__2cvZ4",main__title:"TypeRacer_main__title__3cjDr",main__history:"TypeRacer_main__history__3F_59",main__startBtn:"TypeRacer_main__startBtn__Ik59J",disabled:"TypeRacer_disabled__3sRev"}},28:function(e,t,n){e.exports={letter:"Letter_letter__25EZB",space:"Letter_space__2L5Ls",current:"Letter_current___XHPG",error:"Letter_error__1Ii8n"}},29:function(e,t,n){e.exports={history:"History_history__3e_Vy",history__title:"History_history__title__2aUWK",history__game:"History_history__game__3YpCe",noHistory:"History_noHistory__20ZuB"}},35:function(e,t,n){e.exports={keyboardButton:"KeyboardButton_keyboardButton__3hqIT",isSubmit:"KeyboardButton_isSubmit__31wX3",pt:"KeyboardButton_pt__3q6Ab"}},36:function(e,t,n){e.exports={timer:"Timer_timer__RB9b3",orangeBg:"Timer_orangeBg__1OAbA",redBg:"Timer_redBg__2gUhT"}},43:function(e,t,n){e.exports={keyboard:"Keyboard_keyboard__N58Qi",keyboard__section:"Keyboard_keyboard__section__1m5op"}},44:function(e,t,n){e.exports={historySection:"ViewHistory_historySection__3lNg5",historySection__history:"ViewHistory_historySection__history__2zchI"}},57:function(e,t,n){e.exports={result:"Result_result__bzLfj"}},58:function(e,t,n){e.exports={showText:"ShowInfo_showText__2M6BN"}},59:function(e,t,n){e.exports={center:"ViewText_center__2Bjyo"}},60:function(e,t,n){e.exports=n.p+"static/media/keyboard.3986a100.webp"},61:function(e,t,n){e.exports={resultSection:"ResultSection_resultSection__1Q2RJ"}},62:function(e,t,n){e.exports={textContainer:"TextSection_textContainer__3S759"}},68:function(e,t,n){e.exports=n(101)}},[[68,1,2]]]);
//# sourceMappingURL=main.0e65bdd0.chunk.js.map